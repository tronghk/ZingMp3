<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./assets/css/styles.css">
    <link rel="stylesheet" href="./assets/fonts/fontawesome-free-6.1.2-web/css/all.min.css">
    <title>ZingMp3</title>
</head>
<body>
    
     <div class="main">
        <div class="app">
            <div class="cart_use">
                <div class="cart_use_info"> 
                        <img class="cart_use_img" src="./assets/fonts/img/LeBaoBinh.jpg" alt="Bài hát đang nghe">
                        <div class="cart_use_name">
                           <a href=""> <p class="cart_use_name_Music">Cuộc vui cô đơn</p> </a>
                           <a href=""><p class="cart_use_name_singer">Lê Bảo Bình</p>    </a>   
                        </div>
                        <div class="cart_use_icon">
                            <div class="cart_use_icon-level-button">
                                <button>
                                    
                                    <i onclick="display_color()" class="fa-solid fa-heart"></i>
                                </button>
                            </div>
                            <div class="cart_use_icon-level-button">
                                <button>
                                    <i class="fa-solid fa-ellipsis" style="font-weight: 1000; color: white;"></i>
                                </button>
                            </div>                  
                        </div>
                </div>
                <div class="cart_use_between">
                    <div>
                        <div class="cart_use_between-level-item">
                            <div  class="cart_use-actions">
                                <button class="cart_use_action-button">
                                    <i onclick="change_color_action(0)" class="fa-solid fa-shuffle"></i>
                                </button>
                                <button class="cart_use_action-button">
                                    <i   class="fa-solid fa-backward-step action_button-active"></i>
                                </button>
                                <button onclick="change_playOrPause(this)" class="cart_use_action-button button_play">
                                    <i class="action_icon-play fa-solid fa-play "></i>
                                    <i class="fa-solid fa-pause"></i>
                                </button>
                                <button class="cart_use_action-button">
                                    <i class="fa-solid fa-forward-step  action_button-active"></i>
                                </button>
                                <button class="cart_use_action-button">
                                    <i onclick="change_color_action(5)"  class="fa-solid fa-repeat"></i>
                                </button>
                            </div>
                        </div>
                        <div class="cart_use_betweem-sub-level-item">
                            <div class="cart_use-sub-actions">
                                <div class="cart_use-sub-left">
                                    <span>00:00</span>
                                </div>
                                <div class="cart_use_duration-bar runTimeCart">
                                    <input type="range" max="100" value="0" min="0" step="1" class="cart_use_timeRun-bar sub_runTimeCart"></input>
                                </div>
                                <div class="cart_use-sub-right"><span> 00:10</span></div>
                            </div>
                        </div>
                    </div>
                </div>    


                <div class="cart_use-player-right">
                    <div class="cart_use_icon-level-button"><button>
                        <i class="fa-solid fa-clapperboard"></i>
                        </button>
                    </div>

                    <div class="cart_use_icon-level-button"><button>
                        <i class="fa-solid fa-headphones-simple"></i>
                        </button>
                    </div>

                    <div class="cart_use_icon-level-button"><button>
                            <i class="fa-solid fa-window-restore"></i>
                        </button>
                    </div>

                    <div class="cart_use_icon-level-button"><button>
                            <i class="fa-solid fa-volume-high"></i>
                        </button>
                    </div>
                        
                    <div class="cart_use_duration-bar">
                            <div class="cart_use_timeRun-bar"></div>
                    </div>

                    <div class="cart_use_icon-level-button "><button>
                    <span class="player_right-jamb"></span>
                        <i class="fa-solid fa-list-music" style="background: none;"></i>
                    </button>
                </div>
                </div>
                
                

            </div>
        
            <div class="container">
                <div class="container_left">
                    <div class="container_left-siderbar">
                        
                        <div class="left_siderbar-logo">
                            <div class="left_siderbar-logo-img"></div> 
                            <!-- xong -->
                        </div>

                        <div class="left_sliderbar-wrapper">
                            <ul class="sliderbar-navMenu">
                                <li class="navMenu-item">
                                    <a href="#">
                                        <i class="fa-solid fa-icons"></i>
                                        <span>Cá Nhân</span>
                                    </a>
                                </li>
                                <li class="navMenu-item">
                                    <a href="#">
                                        <i class="fa-solid fa-record-vinyl"></i>
                                        <span>Khám Phá</span>
                                    </a>
                                </li>
                                <li class="navMenu-item">
                                    <a href="#">
                                        <i class="fa-solid fa-circle icon-pos">
                                            <i class="fa-solid fa-arrow-trend-up icon-abs"></i>
                                        </i>
                                        <span>#zingchart</span>
                                        <button class="navMenu_item-play">
                                            
                                        </button>
                                    </a>
                                </li>
                                <li class="navMenu-item">
                                    <a href="#">
                                        <i class="fa-solid fa-guitar"></i>
                                        <span>Radio</span>
                                        <button class="navMenu_item-play"></button>
                                    </a>
                                </li>
                                <li class="navMenu-item">
                                    <a href="#">
                                        <i class="fa-solid fa-list-check"></i>
                                        <span>Theo Dõi</span>
                                    </a>
                                </li>
                            </ul>
                        </div>
                        <div class="left_sliderbar-crossbar"></div>
                        <div class="left_sliderbar-scrollbar">
                            <ul class="sliderbar-navMenu">
                                <li class="navMenu-item">
                                    <a href="#">
                                        <i class="fa-solid fa-music"></i>
                                        <span>Nhạc Mới</span>
                                        <button class="navMenu_item-play"></button>
                                    </a>
                                </li>
                                <li class="navMenu-item">
                                    <a href="#">
                                        <i class="fa-solid fa-list-music"></i>
                                        <span>Thể Loại</span>
                                    </a>
                                </li>
                                <li class="navMenu-item">
                                    <a href="#">
                                        <i class="fa-solid fa-star"></i>
                                        <span>Top 100</span>
                                    </a>
                                </li>
                                <li class="navMenu-item">
                                    <a href="#">
                                        <i class="fa-solid fa-clapperboard"></i>
                                        <span>MV</span>
                                    </a>
                                </li>
                            </ul>

                            <div class="sliderbar_scrollbar_isMark">
                                <div class="scrollbar_isMark-card">
                                    <span class="text_card">Đăng nhập để khám phá playlist dành riêng cho bạn</span>
                                    <br>
                                    <br>
                                    <br>
                                    <br>
                                    <a href="" class="link-text-card">Đăng nhập</a>
                                </div>
                                <div class="scrollbar_isMark-card">
                                    <span class="text_card">Nghe nhạc không quảng cáo cùng kho nhạc VIP</span>
                                    <br>
                                    <br>
                                    <br>
                                    <br>
                                    <a href="" class="link-text-card">Nâng Cấp VIP</a>
                                </div>
                            </div>

                            <div class="sliderbar-crate-list">
                                <a href="#">
                                    <i></i>
                                    <span>Tạo playlist mới </span>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="container_right">
                    <div class="header">
                
                        <div class="nav">
        
                        </div>
                    </div>
                    
                    <div class="content">
                        
                    </div>
                    <div class="footer">
        
                    </div>
                </div>
                

            </div>
         </div>
       
     </div>
</body>
    <script language="javascript">
        //sự kiện trái tim
        var heart_icon = document.querySelector('i.fa-heart');
        let boolean_heart = 0;
        
        function display_color(){
            if(!Boolean(boolean_heart)){
                Object.assign(heart_icon.style,{
                    color: '#c662ef',
                    fontWeight: '1000',
                } );
                boolean_heart = 1;
            }
            else{
                Object.assign(heart_icon.style,{
                    color: '#fff',
                    fontWeight: '500',
                } );
                boolean_heart = 0;
            }  
        }

        // sự kiện bài hát đã làm và chưa xử lý ngẫu nhiên
            const btn_action =document.querySelectorAll('.cart_use-actions i');
            var arr = new Map();
            function arr_runArrMaxLength(length){
                for(var i = 0;i<length;i++)
                    {
                        arr.set(i,0);
                    }
                    return arr;
            }
            arr_runArrMaxLength(btn_action.length);
            
            function change_color_action(index){
                    var value = arr.get(index);
                    if(value == 0){
                        btn_action[index].style.color = 'red';
                        arr.set(index, 1);
                    }
                    else{
                        btn_action[index].style.color = '#fff';
                        arr.set(index,0);
                    }
            }
            // chạy thanh crossbar
            var input_SubtimeCart = document.querySelector('.cart_use_duration-bar .sub_runTimeCart');
            var span_MaxTimeCart = document.querySelector('.cart_use-sub-right span');
            var icon_play = document.querySelector('.fa-play');
            var playCart_Interval = 0;
            var span_timeStartCart = document.querySelector('.cart_use-sub-left span');
            var div_timeAction = document.querySelector('.cart_use-sub-actions .runTimeCart');

            maxValueInput();
            //quy đổi thời lượng sang giây
            function maxTimeCart(time){
                time = time.split(":");
                var sum = parseInt(time[0]) + parseInt(time[1]);
                return sum;
            }
            //trả về maxValue input range
            function maxValueInput(){
                let sumTime = maxTimeCart(span_MaxTimeCart.innerHTML);
                input_SubtimeCart.attributes.max.value= ""+sumTime;
            }
            // chơi nhạc hay dừng
            function change_playOrPause(e){
                var children = e.children;
               for(var i =0;i<children.length;i++){
                
                    if(getComputedStyle(children[i]).display.endsWith("none")){
                        children[i].style.display = 'block';
                    }else{
                        children[i].style.display = 'none';
                    }
               }
               playOrPause();
            }

            function playOrPause(){
                if(getComputedStyle(icon_play).display.endsWith("none"))
                {
                    play_cart();
                }else{
                    pauseCart();
                }
            }

            function play_cart(){
                let valueCart =parseInt(input_SubtimeCart.attributes.value.value);
                let maxValueCart = parseInt(input_SubtimeCart.attributes.max.value);
                if(valueCart == maxValueCart){
                  input_SubtimeCart.attributes.value.value='0';
                  span_timeStartCart.innerHTML = "00:00";
                }
                playCart_Interval = setInterval(function(){
                    valueCart = parseInt(input_SubtimeCart.attributes.value.value);
                    if(   valueCart +1 == maxValueCart){
                        pauseCart();
                        change_playOrPause(document.querySelector('.button_play'));
                    }
                    valueCart += 1;
                    input_SubtimeCart.attributes.value.value = ''+valueCart;
                    runTime(valueCart);
                },1000,'false');
            }
            
            function stopCartInterval(){
                clearInterval(playCart_Interval);
            }
            

            function pauseCart(){        
                stopCartInterval(playCart_Interval);
            }

            function runTime(valueCart){
                let minutesTime = parseInt(valueCart/60+"");
                let secondTime = parseInt(valueCart%60+"");

                if(minutesTime <10)
                     minutesTime  = "0" + minutesTime;
                if(secondTime <10)
                    secondTime = "0" +secondTime;
                span_timeStartCart.innerHTML = minutesTime+":"+secondTime;
            }
            input_SubtimeCart.onchange = function(){
                console.log(this.attributes.value.value);
            }
            div_timeAction.onclick = function(){
               
            };

           
        
    </script>
</html>